<%- include ("../components/header.ejs") %>
<div class="w-full h-[88.5vh] flex items-center justify-center">
    <div class="w-96 h-auto bg-white px-14 py-6 rounded-xl shadow-lg">
      <h1 class="text-2xl font-raleway font-semibold text-zinc-700  tracking-tighter text-center leading-none mb-8">Register as User</h1>
      <form class="relative" action="/user/register" method="post" onsubmit="return validatePassword()">
        
        <!-- User Name -->
        <div class="flex h-12 mt-3 mb-6 border-gray-400 border-b-[1px] items-center px-3 py-2">
            <input 
            class="enabled:bg-none enabled:border-none enabled:outline-none ml-2" 
            type="text" 
            id="username"
            name="username" 
            placeholder="User Name" 
            required>
        </div>

          <!-- Full Name -->
          <div class="flex h-12 mt-3 mb-6 border-gray-400 border-b-[1px] items-center px-3 py-2">
            <input 
            class="enabled:bg-none enabled:border-none enabled:outline-none ml-2" 
            type="text" 
            id="fullname"
            name="fullname" 
            placeholder="Full Name" 
            required>
          </div>

          <!-- Email id -->
            <div class="flex h-12 mb-6 border-gray-400 border-b-[1px] items-center px-3 py-2">
              <input
                class="enabled:bg-none enabled:border-none enabled:outline-none ml-2"
                type="email" 
                id="email" 
                name="email" 
                placeholder="Email Id" 
                required>
           </div>

          <!-- Password -->
          <div class="flex h-12 mt-3 mb-6 border-gray-400 border-b-[1px] items-center px-3 py-2">
            <input 
            class="enabled:bg-none enabled:border-none enabled:outline-none ml-2" 
            type="password" 
            id="password" 
            name="password" 
            placeholder="Password" 
            required>
          </div>
          <!-- Confirm Password -->
          <div class="flex h-12 mt-3 mb-6 border-gray-400 border-b-[1px] items-center px-3 py-2">
            <input 
            class="enabled:bg-none enabled:border-none enabled:outline-none ml-2" 
            type="password" 
            id="passwordc" 
            name="passwordc" 
            placeholder="Confirm Password" 
            required>
            <span id="abc" class="ml-6 cursor-pointer">
              <i class="ri-eye-fill"></i>
            </span>
          </div>
          <!-- Check if entered passwords match each other -->
          <span id="message" style="color:rgb(252, 62, 62);"></span>
        <button 
          onclick="togglePassword()" 
          class="text-zinc-700 cursor-pointer absolute right-2 top-28"> 
       </button>

        <input 
          class="block border-2 mt-2 w-full px-3 py-2 mb-3 bg-[#0D9276] text-white font-semibold rounded-full" 
          type="submit"
          name="register" 
          value="Register" 
          class="btn int" 
        />

        <a href="/user/login" class="">
          <p class="text-zinc-500 text-center text-sm">Existing user? <b class="text-[#0D9276]">Login here</b> </p>
        </a>
      </form>
    </div>
  </div>

  <script>
    // Check if passwords match each other
    function validatePassword(){
    var password = document.getElementById("password").value;
    var confirmPassword = document.getElementById("passwordc").value;
    var msg = document.getElementById("message");

    if (password != confirmPassword) {
        msg.textContent = "Passwords do not match!";
        return false;
    }
    else {
        msg.textContent = "";
        return true;
    }
  }

  // password visiblity
    const pass = document.getElementById('abc');
    pass.addEventListener('click', togglePassword)
    function togglePassword() {
        const passwordInput = document.getElementById('passwordc');
        passwordInput.type = (passwordInput.type === 'password') ? 'text' : 'password';
        pass.innerHTML = (passwordInput.type === 'password') ? '<i class="ri-eye-fill"></i>' : '<i class="ri-eye-off-fill"></i>'
    }

  </script>
<%- include ("../components/footer.ejs") %>